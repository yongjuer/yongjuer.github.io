<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="è®°å½•ç”Ÿæ´»ï¼Œåˆ†äº«æŠ€æœ¯ï¼Œåˆ†äº«ç”Ÿæ´»ã€‚">
    <meta name="author" content="å°ä¸¾">
    
    <title>
        
            æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆäºŒ)ï¼šé—­åŒ… |
        
        å°ä¸¾çš„é˜¿å‹’æ³°
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/logo.png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/regular.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/solid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/brands.min.css">
    
        
            
                
<link rel="stylesheet" href="/css/custom.css">

            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"yongjuer.site","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"base_info":{"primary_color":"rgba(211, 84, 0,1.0)","title":"å°ä¸¾çš„é˜¿å‹’æ³°","author":"å°ä¸¾","avatar":"/images/avatar.png","logo":"/images/avatar.png","favicon":"/images/logo.png"},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","tags":"/tags || fa-solid fa-tags","categories":"/categories || fa-solid fa-layer-group","tools":"/tools || fa-solid fa-tools"},"first_screen":{"enable":true,"background_img":"/images/background.jpg","background_img_dark":"/images/background.jpg","description":null,"hitokoto":true},"social_contact":{"enable":false,"links":{"github":null,"weixin":null,"qq":null,"weibo":null,"zhihu":null,"twitter":null,"x":null,"facebook":null,"email":null}},"scroll":{"progress_bar":false,"percent":true,"hide_header":true},"home":{"announcement":null,"category":true,"tag":true,"post_datetime":"created"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["ç‚¼æ°”","ç­‘åŸº","ç»“ä¸¹","å…ƒå©´","åŒ–ç¥"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD","copyright_info":true,"share":true,"reward":{"enable":false,"img_link":null,"text":null},"updated_datetime_icon":"fa-solid fa-arrows-rotate","created_datetime_icon":"fa-solid fa-feather"},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":false,"site_uv":false,"site_pv":false,"page_pv":false}},"local_search":{"enable":true,"preload":true},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.21"},"waline":{"server_url":null,"reaction":false,"version":3},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"cdnjs"},"pjax":{"enable":true},"footer":{"since":2021,"word_count":false,"site_deploy":{"enable":false,"provider":"github","url":null},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":true,"css":[["/css/custom.css"]],"js":[null]},"root":"","source_data":{"tools":[{"category":"èŠå¤© AI","anchorId":"JUU4JTgxJThBJUU1JUE0JUE5JTIwQUk0"},{"name":"ChatGPT","link":"https://chat.openai.com/","description":"OpenAI æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·","image":"/images/tools/chatgpt.svg"},{"name":"Gemini","link":"https://gemini.google.com/app","description":"Google æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·","image":"/images/tools/gemini.svg"},{"name":"Copilot","link":"https://copilot.microsoft.com/","description":"å¾®è½¯æ——ä¸‹çš„æ—¥å¸¸ AI åŠ©æ‰‹","image":"/images/tools/copilot.png"},{"name":"æ–‡å¿ƒä¸€è¨€","link":"https://yiyan.baidu.com/","description":"ç™¾åº¦æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·","image":"/images/tools/wenxinyiyan.png"},{"name":"é€šä¹‰åƒé—®","link":"https://tongyi.aliyun.com/qianwen/","description":"é˜¿é‡Œå·´å·´æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·","image":"/images/tools/tongyiqianwen.svg"},{"name":"è®¯é£æ˜Ÿç«","link":"https://xinghuo.xfyun.cn/","description":"ç§‘å¤§è®¯é£æ˜Ÿç«è®¤çŸ¥ AI å¤§æ¨¡å‹","image":"/images/tools/xinghuo.svg"},{"category":"ç»˜ç”» AI","anchorId":"JUU3JUJCJTk4JUU3JTk0JUJCJTIwQUk7"},{"name":"Midjourney","link":"https://www.midjourney.com/","description":"AI å›¾åƒå’Œæ’ç”»ç”Ÿæˆå·¥å…·","image":"/images/tools/midjourney.png"},{"name":"Adobe Firefly","link":"https://firefly.adobe.com/","description":"Adobe æ¨å‡ºçš„ AI å›¾åƒç”Ÿæˆå’Œç¼–è¾‘å·¥å…·","image":"/images/tools/adobe-firefly.svg"},{"name":"Stable Diffusion","link":"https://stability.ai/","description":"æœ€å¼ºå¼€æº AI ç»˜ç”»å·¥å…·","image":"/images/tools/stability.png"},{"name":"Microsoft Designer","link":"https://designer.microsoft.com/home","description":"å¾®è½¯æ¨å‡ºçš„åœ¨çº¿è®¾è®¡æµ·æŠ¥å’Œå®£ä¼ å›¾å·¥å…·","image":"/images/tools/microsoft-designer.svg"},{"name":"æ–‡å¿ƒä¸€æ ¼","link":"https://yige.baidu.com/","description":"ç™¾åº¦å‡ºå“çš„ AI ç»˜ç”»å·¥å…·","image":"/images/tools/wenxinyiyan.png"},{"category":"æŠ€æœ¯ç¤¾åŒº","anchorId":"JUU2JThBJTgwJUU2JTlDJUFGJUU3JUE0JUJFJUU1JThDJUJB13"},{"name":"ç¨€åœŸæ˜é‡‘","link":"https://juejin.cn/","description":"ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº","image":"/images/tools/juejin.svg"},{"name":"V2EX","link":"https://www.v2ex.com/","description":"åˆ›æ„å·¥ä½œè€…ä»¬çš„ç¤¾åŒº","image":"/images/tools/v2ex.png"},{"name":"æ€å¦","link":"https://segmentfault.com/","description":"ä¸­å›½é¢†å…ˆçš„å¼€å‘è€…æŠ€æœ¯ç¤¾åŒº","image":"/images/tools/segmentfault.svg"},{"name":"åšå®¢å›­","link":"https://www.cnblogs.com/","description":"å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­","image":"/images/tools/cnblogs.png"},{"name":"W2Solo","link":"https://w2solo.com/","description":"ä¸­æ–‡ç‹¬ç«‹å¼€å‘è€…ç¤¾åŒº","image":null},{"name":"ç”µé¸­ç¤¾åŒº","link":"https://eleduck.com/","description":"ä¸“æ³¨è¿œç¨‹å·¥ä½œæ‹›è˜äº¤æµ","image":"/images/tools/dianyashequ.png"},{"name":"StackOverflow","link":"https://stackoverflow.com/","description":"å…¨çƒæœ€å¤§çš„æŠ€æœ¯é—®ç­”ç¤¾åŒº","image":"/images/tools/stackoverflow.png"},{"name":"å¼€æºä¸­å›½","link":"https://www.oschina.net/","description":"ç›®å‰å›½å†…æœ€å¤§çš„å¼€æºæŠ€æœ¯ç¤¾åŒº","image":"/images/tools/oschina.webp"},{"name":"InfoQ","link":"https://www.infoq.cn/","description":"ä¸€ä¸ªå®è·µé©±åŠ¨çš„æŠ€æœ¯ç¤¾åŒºèµ„è®¯ç«™ç‚¹","image":"/images/tools/infoq.png"},{"name":"51CTO","link":"https://www.51cto.com/","description":"ä¸­å›½é¢†å…ˆçš„ IT æŠ€æœ¯ç½‘ç«™","image":"/images/tools/51cto.webp"},{"name":"CSDN","link":"https://www.csdn.net/","description":"ä¸­æ–‡æœ€å¤§çš„æŠ€æœ¯ç¤¾åŒº","image":"/images/tools/csdn.png"},{"category":"éƒ¨ç½²æ‰˜ç®¡","anchorId":"JUU5JTgzJUE4JUU3JUJEJUIyJUU2JTg5JTk4JUU3JUFFJUEx25"},{"name":"GitHub Pages","link":"https://pages.github.com/","description":"é€šè¿‡ GitHub æ‰˜ç®¡å’Œå‘å¸ƒçš„å…¬å…±ç½‘é¡µ","image":"/images/tools/github.svg"},{"name":"Vercel","link":"https://vercel.com/","description":"Vercel's Frontend Cloud provides the developer experience and infrastructure to build, scale, and secure a faster, more personalized web.","image":"/images/tools/vercel.svg"},{"name":"Cloudflare Pages","link":"https://developers.cloudflare.com/pages/","description":"Create full-stack applications that are instantly deployed to the Cloudflare global network.","image":"/images/tools/cloudflare.svg"},{"name":"Netlify","link":"https://www.netlify.com/","description":"Netlify is the essential platform for the delivery of exceptional and dynamic web experiences, without limitations.","image":"/images/tools/netlify.svg"},{"name":"Railway","link":"https://railway.app/","description":"Railway is the cloud for building, shipping, and monitoring applications.","image":"/images/tools/railway.svg"},{"name":"Zeabur","link":"https://zeabur.com","description":"Say goodbye to deployment hassles. With Zeabur, bring your coding genius to life swiftly and smoothly.","image":"/images/tools/zeabur.png"}]},"version":"4.2.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="å°ä¸¾çš„é˜¿å‹’æ³°" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/avatar.png">
                </a>
            
            <a class="site-name border-box" href="/">
               å°ä¸¾çš„é˜¿å‹’æ³°
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                é¦–é¡µ
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                
                                å½’æ¡£
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tags">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-tags"></i>
                                
                                æ ‡ç­¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                
                                åˆ†ç±»
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tools">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-tools"></i>
                                
                                å·¥å…·
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            é¦–é¡µ
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                </span>
                            
                            å½’æ¡£
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-tags"></i>
                                </span>
                            
                            æ ‡ç­¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                </span>
                            
                            åˆ†ç±»
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tools">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-tools"></i>
                                </span>
                            
                            å·¥å…·
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            
                <div class="post-content-top border-box"
                     style="height: 260px"
                >
                    <div class="cover-post-title">
                        æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆäºŒ)ï¼šé—­åŒ…
                    </div>
                    <img class="post-cover" src="/images/posts/advanced-js/adjs-closure.png"
                         onerror="this.style.display='none'"
                    >
                </div>
            

            <div class="post-content-bottom border-box has-cover">
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.png">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">å°ä¸¾</span>
                                
                                    <span class="author-badge">ç­‘åŸº</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-feather"></i>&nbsp;
                <span class="datetime">2024-04-12</span>
            </span>

            
                <span class="meta-info-item post-update-date">
                    <i class="icon fa-solid fa-arrows-rotate"></i>&nbsp;
                    <span class="datetime" data-updated="Fri Nov 15 2024 15:52:39 GMT+0000">2024-11-15</span>
                </span>
            
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/JavaScript/">JavaScript</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/JavaScript/">JavaScript</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Closure/">Closure</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>4.9k å­—</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>18 åˆ†é’Ÿ</span>
            </span>
        
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <p>é—­åŒ…æ˜¯ JavaScript è¿™é—¨è¯­è¨€ä¸­ä¸€ä¸ªéå¸¸é‡è¦ä½†åˆéš¾ä»¥æŒæ¡ï¼Œè¿‘ä¹<strong>ç¥è¯</strong>çš„æ¦‚å¿µã€‚å…³äºé—­åŒ…çš„æ·±å…¥ç†è§£ï¼Œæˆ‘ä»¬å€Ÿç”¨ä¸€ä¸‹ Crockford çš„è¯ï¼š<strong>â€œé­”æœ¯å¸ˆçš„å¹•åè—ç€ä¸€ä¸ªäººï¼Œæˆ‘ä»¬å°†è¦æ­å¼€å®ƒçš„ä¼ªè£…ã€‚â€</strong></p>
<p>é¦–å…ˆè¯·ç‰¢è®°ä¸€ä¸ªç§˜è¯€ï¼š<strong>JavaScript ä¸­é—­åŒ…æ— å¤„ä¸åœ¨ï¼Œä½ åªéœ€è¦èƒ½å¤Ÿè¯†åˆ«å¹¶æ‹¥æŠ±å®ƒ</strong>ã€‚é—­åŒ…æ˜¯åŸºäºè¯æ³•ä½œç”¨åŸŸä¹¦å†™ä»£ç æ—¶æ‰€äº§ç”Ÿçš„è‡ªç„¶ç»“æœï¼Œä½ ç”šè‡³ä¸éœ€è¦ä¸ºäº†åˆ©ç”¨å®ƒè€Œæœ‰æ„çš„åˆ›å»ºé—­åŒ…ã€‚é—­åŒ…çš„åˆ›å»ºå’Œä½¿ç”¨åœ¨ä½ çš„æ—¥å¸¸ä»£ç ä¸­éšå¤„å¯è§ï¼Œä½ <strong>ç¼ºå°‘</strong>çš„åªæ˜¯æ ¹æ®ä½ è‡ªå·±çš„æ„æ„¿æ¥è¯†åˆ«ã€æ‹¥æŠ±å’Œå½±å“é—­åŒ…çš„<strong>æ€ç»´ç¯å¢ƒ</strong>ã€‚</p>
<h2 id="1-ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹"><a href="#1-ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹" class="headerlink" title="1. ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹"></a>1. ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹</h2><p>é¦–å…ˆæ¥ç›´æ¥äº†å½“çš„è´´å‡ºé—­åŒ…çš„å®šä¹‰ï¼šå½“å‡½æ•°å¯ä»¥<strong>è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ</strong>æ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">bar</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>åŸºäºè¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œå‡½æ•°<code>bar()</code>å†…éƒ¨å¯ä»¥<strong>è®¿é—®</strong>å¤–éƒ¨ä½œç”¨åŸŸï¼ˆä¹Ÿå°±æ˜¯ foo å‡½æ•°çš„ä½œç”¨åŸŸï¼‰ä¸­çš„å˜é‡<code>a</code>(è¿™ä¸ªä¾‹å­ä¸­çš„æ˜¯ä¸€ä¸ª RHS çš„å¼•ç”¨æŸ¥è¯¢)ã€‚</p>
<p>è¯·é—®è¿™ä¸ªæ˜¯é—­åŒ…å—ï¼Ÿ</p>
<p>æŠ€æœ¯ä¸Šæ¥è®²ï¼Œ<strong>ä¹Ÿè®¸æ˜¯</strong>ã€‚ä½†æ˜¯æ ¹æ®åˆšæ‰çš„å®šä¹‰ï¼Œ<strong>ç¡®åˆ‡åœ°è¯´å¹¶ä¸æ˜¯</strong>ã€‚æˆ‘è®¤ä¸ºæœ€å‡†ç¡®çš„ç”¨æ¥è§£é‡Š<code>bar()</code>å†…éƒ¨å¯¹<code>a</code>çš„å¼•ç”¨çš„æ–¹æ³•æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™åªæ˜¯é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>åˆ†æä¸€ä¸‹ä¸Šé¢çš„ä»£ç ç‰‡æ®µï¼Œå‡½æ•°<code>bar()</code>å…·æœ‰ä¸€ä¸ª<strong>æ¶µç›–</strong>äº†<code>foo()</code>ä½œç”¨åŸŸçš„é—­åŒ…ï¼ˆäº‹å®ä¸Šä¸å…‰æ˜¯ fooï¼Œå®ƒæ¶µç›–äº†æ‰€èƒ½è®¿é—®çš„æ‰€æœ‰ä½œç”¨åŸŸï¼Œæ¯”å¦‚å…¨å±€ä½œç”¨åŸŸï¼‰ã€‚ä¹Ÿå¯ä»¥è®¤ä¸º<code>bar()</code><strong>å°é—­</strong>åœ¨äº†<code>foo()</code>çš„ä½œç”¨åŸŸä¸­ï¼ˆå¾ˆç®€å•ï¼Œå› ä¸º<code>bar()</code>åµŒå¥—åœ¨<code>foo()</code>å†…éƒ¨ï¼‰ã€‚ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å®šä¹‰çš„é—­åŒ…å¹¶ä¸èƒ½ç›´æ¥<strong>è¿›è¡Œè§‚å¯Ÿ</strong>ã€‚å†æ¥çœ‹ä¸‹é¢çš„ä»£ç æ˜¯å¦‚ä½•æ¸…æ™°çš„å±•ç¤ºé—­åŒ…çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = <span class="title function_">foo</span>();</span><br><span class="line"><span class="title function_">baz</span>(); <span class="comment">// 2  -- è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœ</span></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾è§„åˆ™ï¼Œå…¨å‰§ä½œç”¨åŸŸæ˜¯çœ‹ä¸åˆ°ä¸”è®¿é—®ä¸åˆ°<code>foo()</code>ä½œç”¨åŸŸä¸­çš„å˜é‡ a çš„ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬å´æ‰“å°å‡ºäº†<code>a</code>çš„å€¼ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</p>
<p>å‡½æ•°<code>bar()</code>çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—®<code>foo()</code>çš„å†…éƒ¨ä½œç”¨åŸŸï¼Œç„¶åæˆ‘ä»¬å°†<code>bar()</code>å‡½æ•°æœ¬èº«å½“ä½œä¸€ä¸ªå€¼ç±»å‹è¿›è¡Œä¼ é€’ï¼Œæˆ‘ä»¬å°† bar æ‰€å¼•ç”¨çš„<strong>å‡½æ•°å¯¹è±¡</strong>æœ¬èº«å½“ä½œå€¼è¿”å›ã€‚</p>
<p>åœ¨<code>foo()</code>æ‰§è¡Œåï¼Œå…¶è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯å†…éƒ¨çš„å‡½æ•°<code>bar</code>ï¼‰èµ‹å€¼ç»™å˜é‡<code>baz</code>å¹¶è°ƒç”¨<code>baz()</code>,å®é™…ä¸Šåªæ˜¯é€šè¿‡ä¸é€šçš„æ ‡è¯†ç¬¦å¼•ç”¨è°ƒç”¨äº†å†…éƒ¨å‡½æ•°<code>bar()</code>ã€‚ï¼ˆè¡¨ç¤ºç¬¦<code>bar</code>å’Œ<code>baz</code>æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼‰</p>
<p><code>bar()</code>æ˜¾ç„¶å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒæ˜¯åœ¨<strong>å®šä¹‰è‡ªå·±çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹</strong>è¢«æ‰§è¡Œçš„ï¼ˆ<code>bar</code>å‡½æ•°æ˜¯åœ¨<code>foo</code>å‡½æ•°çš„å†…éƒ¨è¢«å®šä¹‰çš„ï¼Œä½†æ˜¯ç¡®æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸè¢«è°ƒç”¨æ‰§è¡Œçš„ï¼‰ã€‚</p>
<p>åœ¨<code>foo()</code>æ‰§è¡Œä¹‹åï¼Œé€šå¸¸ä¼šæœŸå¾…<code>foo()</code>çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å¼•æ“æœ‰åƒåœ¾å›æ”¶æœºåˆ¶æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ï¼Œç”±äºçœ‹ä¸Šå»<code>foo()</code>å†…éƒ¨çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œå› æ­¤å¾ˆè‡ªç„¶çš„è€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚è€Œé—­åŒ…çš„â€œç¥å¥‡ä¹‹å¤„â€å°±åœ¨äºå¯ä»¥ç»„ç»‡è¿™ä»¶äº‹æƒ…å‘ç”Ÿï¼Œäº‹å®ä¸Š<code>foo()</code>å†…éƒ¨ä½œç”¨åŸŸ<strong>ä¾ç„¶</strong>å­˜åœ¨è€Œæ²¡æœ‰è¢«å›æ”¶ï¼Œé‚£æ˜¯è°è¿˜åœ¨ä½¿ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸå‘¢ï¼Ÿæˆ–è€…è¯´è°è¿˜åœ¨å¼•ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯<code>bar()</code>å‡½æ•°åœ¨ä½¿ç”¨ï¼Œè¿˜è®°å¾—<code>bar()</code>å‡½æ•°çš„å†…éƒ¨ä»ç„¶åœ¨è®¿é—®<code>foo()</code>å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡<code>a</code>å—ï¼Ÿ</p>
<blockquote>
<p>ğŸ’¡ æ‹œ<code>bar()</code>å‡½æ•°å£°æ˜çš„ä½ç½®æ‰€èµï¼Œå®ƒæ‹¥æœ‰æ¶µç›–<strong>æ•´ä¸ª</strong><code>foo()</code>å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾›<code>bar()</code>åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚</p>
</blockquote>
<p><code>bar()</code>ä¾ç„¶æŒæœ‰å¯¹<code>foo()</code>å†…éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨æœ¬èº«å°±å«åšé—­åŒ…ã€‚å°½ç®¡è¿™ä¸ªå‡½æ•°åœ¨å®šä¹‰å®ƒçš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹è¢«è°ƒç”¨ï¼Œä½†é—­åŒ…ä½¿å¾—è¯¥å‡½æ•°å¯ä»¥ç»§ç»­è®¿é—®å®šä¹‰å®ƒæ—¶çš„é‚£ä¸ªè¯æ³•ä½œç”¨åŸŸã€‚</p>
<p>æ— è®ºä½ ä½¿ç”¨ä½•ç§æ–¹å¼å¯¹å‡½æ•°ç±»å‹çš„å€¼<strong>è¿›è¡Œä¼ é€’</strong>ï¼Œå½“å‡½æ•°åœ¨åˆ«å¤„è¿›è¡Œè°ƒç”¨æ—¶éƒ½å¯ä»¥è§‚å¯Ÿåˆ°é—­åŒ…ï¼Œæ¥çœ‹ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">baz</span>(bar);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="title function_">fn</span>(); <span class="comment">// è¿™ä¸ªä¾‹å­ä¸­çš„ fn æŒ‡å‘çš„å°±æ˜¯ bar å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>æŠŠå†…éƒ¨å‡½æ•°<code>bar</code>å½“ä½œå‚æ•°ä¼ é€’ç»™<code>baz</code>å‡½æ•°ï¼Œ<code>baz</code>å‡½æ•°å†…éƒ¨ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ˆåœ¨<code>baz</code>å†…éƒ¨å«åš fnï¼‰ï¼Œè¿™ä¸ª<code>fn()</code>å‡½æ•°æºå¸¦ç€æ¶µç›–<code>foo()</code>å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œå› æ­¤å¯ä»¥è®¿é—®åˆ°å˜é‡<code>a</code>ã€‚</p>
<p>ä¼ é€’å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯é—´æ¥çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;</span><br><span class="line">  fn = bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fn</span>(); <span class="comment">// è¿™ä¹Ÿæ˜¯é—­åŒ…</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">baz</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>æ— è®ºé€šè¿‡ä½•ç§æ‰‹æ®µå°†å†…éƒ¨å‡½æ•°<strong>ä¼ é€’</strong>åˆ°<strong>å®šä¹‰å®ƒæ—¶çš„é‚£ä¸ªè¯æ³•ä½œç”¨åŸŸä¹‹å¤–çš„åœ°æ–¹</strong>ï¼Œå®ƒéƒ½ä¼š<strong>æŒæœ‰</strong>å¯¹åŸå§‹å®šä¹‰å®ƒçš„é‚£ä¸ªä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ— è®ºåœ¨ä½•å¤„æ‰§è¡Œè¿™ä¸ªå‡½æ•°éƒ½ä¼šä½¿ç”¨é—­åŒ…ã€‚</p>
<h2 id="2-é—­åŒ…æ— å¤„ä¸åœ¨"><a href="#2-é—­åŒ…æ— å¤„ä¸åœ¨" class="headerlink" title="2. é—­åŒ…æ— å¤„ä¸åœ¨"></a>2. é—­åŒ…æ— å¤„ä¸åœ¨</h2><p>å…¶å®æˆ‘ä»¬å¹³æ—¶å†™è¿‡çš„ä»£ç ä¸­åˆ°å¤„éƒ½æ˜¯é—­åŒ…çš„èº«å½±ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">wait</span>(<span class="params">message</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">wait</span>(<span class="string">&#x27;Hello, closure!&#x27;</span>); <span class="comment">// 1 ç§’åè¾“å‡º &quot;Hello, closure!&quot;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå†…éƒ¨å‡½æ•°<code>timer</code>ä½œä¸ºå‚æ•°ä¼ é€’ç»™<code>setTimeout</code>å‡½æ•°ï¼Œ<code>time()</code>å‡½æ•°å…·æœ‰æ¶µç›–<code>wait()</code>å‡½æ•°å†…éƒ¨è¯æ³•ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œå› æ­¤è¿˜ä¿æœ‰å¯¹å˜é‡<code>message</code>çš„å¼•ç”¨ã€‚<code>wait()</code>å‡½æ•°æ‰§è¡Œ 1000 æ¯«ç§’ä»¥åï¼Œå®ƒçš„å†…éƒ¨ä½œç”¨åŸŸå¹¶ä¸ä¼šæ¶ˆå¤±ï¼Œtimer å‡½æ•°ä¾ç„¶ä¿æœ‰<code>wait()</code>ä½œç”¨åŸŸçš„é—­åŒ…ã€‚</p>
<blockquote>
<p>ğŸ’¡ æœ¬è´¨ä¸Š<strong>æ— è®ºä½•æ—¶ä½•åœ°</strong>ï¼Œå¦‚æœå°†å‡½æ•°ï¼ˆå†…éƒ¨ä¼šè®¿é—®å®ƒæ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼‰ä½œä¸ºç¬¬ä¸€çº§çš„å€¼ç±»å‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°é—­åŒ…åœ¨è¿™äº›å‡½æ•°ä¸­çš„åº”ç”¨ã€‚åœ¨å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ã€Ajax è¯·æ±‚ã€è·¨çª—å£é€šä¿¡ã€Web Workers æˆ–è€…ä»»ä½•å…¶ä»–çš„å¼‚æ­¥ï¼ˆæˆ–åŒæ­¥ä»»åŠ¡ï¼‰ä¸­ï¼Œåªè¦ä½¿ç”¨äº†<strong>å›è°ƒå‡½æ•°</strong>ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…ï¼</p>
</blockquote>
<p>å¯¹äº†ï¼Œä¹‹å‰ä»‹ç»çš„ IIFE æ¨¡å¼ç®—æ˜¯é—­åŒ…å§ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>:</span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">IIFE</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>ä¸¥æ ¼ä¸Šæ¥è®²å®ƒå¹¶ä¸ç®—æ˜¯é—­åŒ…ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå‡½æ•° IIFE å¹¶ä¸æ˜¯åœ¨å®šä¹‰å®ƒçš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–è¢«æ‰§è¡Œçš„ã€‚å®ƒæ˜¯åœ¨å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä¸­æ‰§è¡Œçš„ï¼Œå˜é‡ a æ˜¯é€šè¿‡æ™®é€šçš„è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾è§„åˆ™è€Œéé—­åŒ…è¢«å‘ç°çš„ã€‚</p>
<p>å°½ç®¡ IIFE æœ¬èº«å¹¶ä¸æ˜¯è§‚å¯Ÿé—­åŒ…çš„æ°å½“ä¾‹å­ï¼Œä½†æ—¶å®ƒçš„ç¡®åˆ›å»ºäº†é—­åŒ…ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æœ€å¸¸ç”¨æ¥åˆ›å»ºå¯ä»¥è¢«å°é—­èµ·æ¥çš„é—­åŒ…çš„å·¥å…·ã€‚</p>
<h2 id="3-å¾ªç¯å’Œé—­åŒ…"><a href="#3-å¾ªç¯å’Œé—­åŒ…" class="headerlink" title="3. å¾ªç¯å’Œé—­åŒ…"></a>3. å¾ªç¯å’Œé—­åŒ…</h2><p>è¦è¯´æ˜é—­åŒ…ï¼Œå¾ªç¯æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++&gt;) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;, i * <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æƒ…å†µæˆ‘ä»¬å¯¹è¿™æ®µä»£ç çš„è¿è¡ŒæœŸæœ›æ˜¯åˆ†åˆ«è¾“å‡ºæ•°å­— 1ã€2ã€3ã€4ã€5ï¼Œæ¯ç§’ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªæ•°å­—ã€‚ä½†å®é™…ä¸Šï¼Œè¿™æ®µä»£ç åœ¨è¿è¡Œæ—¶ä¼šä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡è¾“å‡ºäº”æ¬¡ 6ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>é¦–å…ˆï¼Œ6 æ˜¯ä»å“ªé‡Œæ¥çš„å‘¢ï¼Ÿè¿™ä¸ªå¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ i ä¸å† &lt;&#x3D; 5ï¼Œæ¡ä»¶é¦–æ¬¡æˆç«‹æ—¶ i çš„å€¼ä¸º 6ï¼Œå› æ­¤è¾“å‡ºæ˜¾ç¤ºçš„ç»“æœæ˜¯å¾ªç¯ç»“æŸæ—¶ i çš„æœ€ç»ˆå€¼ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä¼ é€’ç»™<code>setTimeout</code> çš„å›è°ƒå‡½æ•°ä¼šåœ¨æŒ‡å®šçš„æ—¶é—´ä¹‹åè¢«æ”¾å…¥å¾ªç¯é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ,æœ€èµ·ç ä¹Ÿè¦ç­‰åˆ°ä¸»çº¿ç¨‹çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œä¹‹åæ‰èƒ½æ‰§è¡Œï¼Œå› æ­¤è¿™äº›å‡½æ•°ä¸€å®šæ˜¯ä¼š<strong>åœ¨å¾ªç¯ç»“æŸå</strong>æ‰æ‰§è¡Œçš„ã€‚äº‹å®ä¸Šï¼Œå³ä½¿æ¯ä¸ªè¿­ä»£ä¼ é€’ç»™<code>setTimeout</code>çš„å»¶è¿Ÿæ—¶é—´æ˜¯ 0ï¼Œæ‰€æœ‰çš„å›è°ƒå‡½æ•°ä¹Ÿä¾ç„¶ä¼šåœ¨å¾ªç¯ç»“æŸåæ‰ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>é‚£ä¹ˆä»£ç ä¸­æ˜¯ä»€ä¹ˆâ€œç¼ºé™·â€å¯¼è‡´äº†å®ƒçš„è¡Œä¸ºå’Œè¯­ä¹‰æ‰€æè¿°çš„ä¸ä¸€è‡´å‘¢ï¼Ÿ</p>
<p>è¿™æ®µä»£ç é‡Œæˆ‘ä»¬è¯•å›¾â€å‡è®¾â€œå¾ªç¯ä¸­çš„æ¯ä¸€æ¬¡è¿­ä»£<strong>åœ¨è¿è¡Œæ—¶</strong>éƒ½ä¼šç»™è‡ªå·±<strong>æ•è·</strong>ä¸€ä¸ª i çš„å‰¯æœ¬ã€‚ä½†æ˜¯æ ¹æ®ä½œç”¨åŸŸçš„åŸç†ï¼Œå®é™…æƒ…å†µæ˜¯ï¼šå°½ç®¡å¾ªç¯ä¸­çš„äº”ä¸ªå‡½æ•°æ˜¯åœ¨å„ä¸ªè¿­ä»£ä¸­<strong>åˆ†åˆ«å®šä¹‰</strong>çš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½è¢«<strong>å°é—­</strong>åœ¨åŒä¸€ä¸ªå…±äº«çš„å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œ i ä¹Ÿæ˜¯åœ¨é‚£ä¸ªå…±äº«çš„ä½œç”¨åŸŸä¸­å®šä¹‰çš„ï¼Œå› æ­¤<strong>è¿™äº›å‡½æ•°è®¿é—®çš„æ˜¯åŒä¸€ä¸ª iï¼Œ å®é™…ä¸Šä¹Ÿåªæœ‰è¿™ä¸€ä¸ª iã€‚</strong> å¾ªç¯è®©æˆ‘ä»¬è¯¯ä»¥ä¸ºèƒŒåæœ‰æ›´å¤æ‚çš„æœºåˆ¶åœ¨èµ·ä½œç”¨ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ã€‚</p>
<p>é—®é¢˜æ¸…æ¥šäº†ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>
<p>å…¶å®æˆ‘ä»¬éœ€è¦çš„æ˜¯é—­åŒ…ä½œç”¨åŸŸï¼Œç‰¹åˆ«æ˜¯åœ¨å¾ªç¯è¿‡ç¨‹ä¸­çš„æ¯ä¸€æ¬¡è¿­ä»£éƒ½éœ€è¦ä¸€ä¸ªé—­åŒ…ä½œç”¨åŸŸã€‚è¿™æ ·æ¯æ¬¡è¿­ä»£ä¸­å®šä¹‰çš„å‡½æ•° timer éƒ½å¯ä»¥è®¿é—®è‡ªå·±æºå¸¦çš„é—­åŒ…ä½œç”¨åŸŸä¸­çš„äº’ç›¸ç‹¬ç«‹çš„ iã€‚</p>
<h3 id="3-1-è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE"><a href="#3-1-è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE" class="headerlink" title="3.1 è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE"></a>3.1 è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE</h3><p>é‚£å¦‚ä½•åˆ›å»ºé—­åŒ…ä½œç”¨åŸŸå‘¢ï¼Ÿè¿˜è®°å¾—å‰é¢æåˆ°çš„ IIFE å—ï¼Ÿæˆ‘ä»¬è¯´ IIFE æ˜¯æœ€å¸¸ç”¨æ¥åˆ›å»ºå¯ä»¥è¢«å°é—­èµ·æ¥çš„é—­åŒ…çš„å·¥å…·ã€‚é‚£ä¹ˆæˆ‘ä»¬ç”¨ IIFE æ¥è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="keyword">function</span> <span class="title function_">IIFE</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> j = i; <span class="comment">// åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­æˆ‘ä»¬éƒ½åœ¨è¿™ä¸ªå°é—­ä½œç”¨åŸŸä¸­å®šä¹‰ä¸€ä¸ªå±äºè‡ªå·±çš„ jï¼Œå®ƒçš„å€¼ç­‰äºå½“å‰è¿­ä»£çš„ i</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(j);</span><br><span class="line">    &#125;, j * <span class="number">1000</span>);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å†æ¥æ”¹è¿›ä¸€ä¸‹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="keyword">function</span> (<span class="params">j</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(j);</span><br><span class="line">    &#125;, j * <span class="number">1000</span>);</span><br><span class="line">  &#125;)(i); <span class="comment">// ç›´æ¥æŠŠæ¯æ¬¡è¿­ä»£çš„ i ä½œä¸ºå‚æ•°ä¼ é€’ç»™ IIFEï¼Œå…¶å®ç­‰ä»·äº var j = i;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿­ä»£å†…éƒ¨ä½¿ç”¨ IIFE ä¼šä¸º<strong>æ¯ä¸ªè¿­ä»£éƒ½ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„å°é—­ä½œç”¨åŸŸ</strong>ï¼Œä½¿å¾—å»¶è¿Ÿçš„å›è°ƒå‡½æ•° timer å¯ä»¥å°†æ–°çš„ä½œç”¨åŸŸå°é—­åœ¨æ¯æ¬¡è¿­ä»£çš„å†…éƒ¨ã€‚è¿™æ ·ï¼Œæ¯ä¸ªè¿­ä»£éƒ½å¯ä»¥è®¿é—®è‡ªå·±çš„ j å˜é‡ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–è¿­ä»£çš„ j å˜é‡ã€‚</p>
<h3 id="3-2-è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ"><a href="#3-2-è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ" class="headerlink" title="3.2 è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ"></a>3.2 è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ</h3><p>ä»”ç»†æ€è€ƒå‰é¢ IIFE çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ IIFE åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å°é—­ä½œç”¨åŸŸï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ¯æ¬¡è¿­ä»£éƒ½<strong>éœ€è¦</strong>ä¸€ä¸ªå—ä½œç”¨åŸŸã€‚é‚£é™¤äº†ä½¿ç”¨ IIFE æ¥ç›´æ¥åˆ›å»ºä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸå¤–ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•å—ï¼Ÿå½“ç„¶ï¼è¿˜è®°å¾—å‰é¢ä»‹ç»çš„ let å—ï¼Ÿ let å¯ä»¥ç”¨æ¥â€œåŠ«æŒâ€å—ä½œç”¨åŸŸã€‚</p>
<p>ä½¿ç”¨ let æœ¬è´¨ä¸Šæ˜¯<strong>å°†ä¸€ä¸ªå—è½¬æ¢æˆä¸€ä¸ªå¯ä»¥è¢«å…³é—­çš„ä½œç”¨åŸŸã€‚</strong>å› æ­¤ï¼Œä¸‹é¢çš„ä»£ç å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> j = i; <span class="comment">// è¿™é‡Œä½¿ç”¨ let è€Œä¸æ˜¯ var æ¥å®šä¹‰ j</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(j);</span><br><span class="line">  &#125;, j * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç è¿˜å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œfor å¾ªç¯å¤´éƒ¨çš„ let å£°æ˜è¿˜ä¼šæœ‰ä¸€ä¸ªç‰¹æ®Šçš„è¡Œä¸ºï¼Œè¿™ä¸ªè¡Œä¸ºæŒ‡å‡ºï¼šå˜é‡åœ¨å¾ªç¯è¿­ä»£è¿‡ç¨‹ä¸­<strong>ä¸æ­¢è¢«å£°æ˜ä¸€æ¬¡ï¼Œè€Œæ˜¯æ¯æ¬¡è¿­ä»£éƒ½ä¼šè¢«é‡æ–°å£°æ˜</strong>ã€‚éšåçš„æ¯ä¸€ä¸ªè¿­ä»£éƒ½ä¼šä½¿ç”¨<strong>ä¸Šä¸€ä¸ªè¿­ä»£ç»“æŸæ—¶çš„åˆå§‹å€¼</strong>æ¥åˆå§‹åŒ–è¿™ä¸ªå˜é‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„è¿™é‡Œç›´æ¥ä½¿ç”¨ let å£°æ˜ i å˜é‡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;, i * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-æ¨¡å—"><a href="#4-æ¨¡å—" class="headerlink" title="4. æ¨¡å—"></a>4. æ¨¡å—</h2><p>é—­åŒ…çš„å¼ºå¤§å¨åŠ›è¿˜ä½“ç°åœ¨å…¶ä»–ä»£ç æ¨¡å¼ä¸­ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å…¶ä¸­æœ€å¼ºå¤§çš„ä¸€ä¸ªï¼šæ¨¡å—ã€‚</p>
<p>å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="string">&#x27;cool&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(something);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doAnother</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(another.<span class="title function_">join</span>(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç é‡Œå¹¶æ²¡æœ‰æ˜æ˜¾çš„é—­åŒ…ï¼Œåªæœ‰ä¸¤ä¸ªç§æœ‰æ•°æ®å˜é‡ something å’Œ anotherï¼Œä»¥åŠä¸¤ä¸ªå†…éƒ¨å‡½æ•° doSomething å’Œ doAnotherã€‚å®ƒä»¬çš„è¯æ³•ä½œç”¨åŸŸå°±æ˜¯ foo å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸï¼ˆè€Œè¿™ä¸ªå°±æ˜¯é—­åŒ…ï¼‰ã€‚</p>
<p>å†çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">CoolModule</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="string">&#x27;cool&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(something);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doAnother</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(another.<span class="title function_">join</span>(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">doSomething</span>: doSomething,</span><br><span class="line">    <span class="attr">doAnother</span>: doAnother,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="title class_">CoolModule</span>();</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">doSomething</span>(); <span class="comment">// &quot;cool&quot;</span></span><br><span class="line">foo.<span class="title function_">doAnother</span>(); <span class="comment">// &quot;1!2!3&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ¨¡å¼åœ¨ JavaScript ä¸­è¢«ç§°ä¸º<strong>æ¨¡å—</strong>ã€‚</p>
<p>æˆ‘ä»¬ä»”ç»†æ¥åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p>
<p>é¦–å…ˆ CoolModule åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå¿…é¡»è¦è°ƒç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªæ¨¡å—å®åŠ›ã€‚<strong>å¦‚æœä¸æ‰§è¡Œå¤–éƒ¨å‡½æ•°ï¼Œå†…éƒ¨ä½œç”¨åŸŸå’Œé—­åŒ…éƒ½æ— æ³•è¢«åˆ›å»ºã€‚</strong></p>
<p>å…¶æ¬¡ï¼Œ<code>CoolModule()</code>è¿”å›ä¸€ä¸ªç”¨å¯¹è±¡å­—é¢é‡è¯­æ³•<code>&#123;key: value&#125;</code>æ¥è¡¨ç¤ºçš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å†…éƒ¨å«æœ‰å¯¹å†…éƒ¨å‡½æ•°çš„å¼•ç”¨è€Œ<strong>ä¸æ˜¯</strong>å†…éƒ¨ç§æœ‰æ•°æ®å˜é‡çš„å¼•ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¿è¯äº†å†…éƒ¨æ•°æ®å˜é‡æ—¶<strong>éšè—ä¸”ç§æœ‰</strong>çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡ç±»å‹çš„è¿”å›å€¼çœ‹ä½œæ˜¯<strong>æ¨¡å—æš´éœ²çš„å…¬å…± API</strong></p>
<p>ç„¶åè¿™ä¸ªå¯¹è±¡ç±»å‹çš„è¿”å›å€¼è¢«èµ‹å€¼ç»™å¤–éƒ¨å˜é‡ fooï¼Œç„¶åå°±å¯ä»¥é€šè¿‡å®ƒæ¥è®¿é—® API ä¸­çš„å±æ€§å’Œæ–¹æ³•äº†ï¼Œæ¯”å¦‚<code>foo.doSomething()</code>å’Œ<code>foo.doAnother()</code>ã€‚<code>doSomething()</code>å’Œ<code>doAnother()</code>å‡½æ•°å…·æœ‰æ¶µç›–æ¨¡å—å®ä¾‹å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼ˆé€šè¿‡è°ƒç”¨<code>CoolModule()</code>å®ç°ï¼‰ã€‚å½“é€šè¿‡è¿”å›ä¸€ä¸ªå«æœ‰å±æ€§å¼•ç”¨çš„å¯¹è±¡çš„æ–¹å¼æ¥å°†å†…éƒ¨å‡½æ•°ä¼ é€’åˆ°è¯æ³•ä½œç”¨åŸŸå¤–éƒ¨æ—¶ï¼Œæˆ‘ä»¬å°±åˆ›å»ºäº†å¯ä»¥è§‚å¯Ÿå’Œå®è·µé—­åŒ…çš„æ¡ä»¶ã€‚</p>
<p>ç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œæ¨¡å—æ¨¡å¼éœ€è¦ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š</p>
<ol>
<li>å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è¢«è‡³å°‘è°ƒç”¨ä¸€æ¬¡ï¼ˆæ¯ä¸€æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹ï¼‰ã€‚</li>
<li>å°é—­å‡½æ•°å¿…é¡»è‡³å°‘è¿”å›ä¸€ä¸ª<strong>å†…éƒ¨å‡½æ•°</strong>ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚</li>
</ol>
<h3 id="4-1-å•ä¾‹æ¨¡å¼"><a href="#4-1-å•ä¾‹æ¨¡å¼" class="headerlink" title="4.1 å•ä¾‹æ¨¡å¼"></a>4.1 å•ä¾‹æ¨¡å¼</h3><p>åˆšæ‰çš„ä¾‹å­ä¸­çš„<code>CoolModule()</code>å¯ä»¥ç§°ä¹‹ä¸ºä¸€ä¸ªæ¨¡å—åˆ›å»ºå™¨ï¼Œå®ƒå¯ä»¥è¢«è°ƒç”¨ä»»æ„å¤šæ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹ã€‚ä½†æ˜¯å½“æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå®ä¾‹æ—¶ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰ï¼Œå¯ä»¥å¯¹è¿™ä¸ªæ¨¡å¼è¿›è¡Œç®€å•çš„æ”¹è¿›ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="keyword">function</span> <span class="title function_">CoolModule</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="string">&#x27;cool&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(something);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doAnother</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(another.<span class="title function_">join</span>(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">doSomething</span>: doSomething,</span><br><span class="line">    <span class="attr">doAnother</span>: doAnother,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line">foo.<span class="title function_">doSomething</span>(); <span class="comment">// &quot;cool&quot;</span></span><br><span class="line">foo.<span class="title function_">doAnother</span>(); <span class="comment">// &quot;1!2!3&quot;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†æ¨¡å—å‡½æ•°å˜æˆäº† IIFEï¼Œ<strong>ç«‹å³è°ƒç”¨</strong>è¿™ä¸ªå‡½æ•°å¹¶å°†è¿”å›å€¼ç›´æ¥èµ‹å€¼ç»™å•ä¾‹çš„æ¨¡å—æ ‡è¯†ç¬¦ fooã€‚</p>
<p>æ¨¡å—ä¹Ÿæ˜¯æ™®é€šçš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ¥å—å‚æ•°ï¼Œæ¯”å¦‚ä¸‹è¾¹çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">CoolModule</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">identify</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(id);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">identify</span>: identify,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo1 = <span class="title class_">CoolModule</span>(<span class="string">&#x27;foo1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> foo2 = <span class="title class_">CoolModule</span>(<span class="string">&#x27;foo2&#x27;</span>);</span><br><span class="line"></span><br><span class="line">foo1.<span class="title function_">identify</span>(); <span class="comment">// &quot;foo1&quot;</span></span><br><span class="line">foo2.<span class="title function_">identify</span>(); <span class="comment">// &quot;foo2&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-åŠ¨æ€å‘½åæ¨¡å—å…¬å…±-API"><a href="#4-2-åŠ¨æ€å‘½åæ¨¡å—å…¬å…±-API" class="headerlink" title="4.2 åŠ¨æ€å‘½åæ¨¡å—å…¬å…± API"></a>4.2 åŠ¨æ€å‘½åæ¨¡å—å…¬å…± API</h3><p>æ¨¡å—æ¨¡å¼çš„å¦ä¸€ä¸ªç®€å•è€Œåˆå¼ºå¤§çš„ç”¨æ³•æ˜¯å‘½åå°†è¦ä½œä¸ºå…¬å…± API è¿”å›çš„å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="keyword">function</span> (<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">change</span>(<span class="params"></span>) &#123;</span><br><span class="line">    publicAPI.<span class="property">identify</span> = identify2;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">identify1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;identify1&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">identify2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;identify2&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> publicAPI = &#123;</span><br><span class="line">    <span class="attr">change</span>: change,</span><br><span class="line">    <span class="attr">identify</span>: identify1,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(<span class="string">&#x27;foo module&#x27;</span>);</span><br><span class="line">foo.<span class="title function_">identify</span>(); <span class="comment">// &quot;identify1&quot;</span></span><br><span class="line">foo.<span class="title function_">change</span>();</span><br><span class="line">foo.<span class="title function_">identify</span>(); <span class="comment">// &quot;identify2&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ç‰‡æ®µé€šè¿‡åœ¨æ¨¡å—å®ä¾‹å†…éƒ¨ä¿ç•™å¯¹å…¬å…± API å¯¹è±¡çš„å†…éƒ¨å¼•ç”¨ï¼Œå¯ä»¥ä»<strong>å†…éƒ¨</strong>å¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ æˆ–è€…åˆ é™¤æ–¹æ³•å’Œå±æ€§ï¼Œä»¥åŠä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚</p>
<h3 id="4-3-ç°ä»£çš„æ¨¡å—æœºåˆ¶"><a href="#4-3-ç°ä»£çš„æ¨¡å—æœºåˆ¶" class="headerlink" title="4.3 ç°ä»£çš„æ¨¡å—æœºåˆ¶"></a>4.3 ç°ä»£çš„æ¨¡å—æœºåˆ¶</h3><p>å¤§å¤šæ•°æ¨¡å—ä¾èµ–åŠ è½½å™¨&#x2F;ç®¡ç†å™¨æœ¬è´¨ä¸Šéƒ½æ˜¯å°†è¿™ç§æ¨¡å—å®šä¹‰å°è£…åœ¨ä¸€ä¸ªå‹å¥½çš„ APIã€‚å…ˆæ¥çœ‹ä¸€ä¸‹ä»£ç :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyModules</span> = (<span class="keyword">function</span> (<span class="params">modules</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">define</span>(<span class="params">name, deps, implementation</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; deps.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      deps[i] = modules[deps[i]]; <span class="comment">// è¿™ä¸€æ­¥æ˜¯å°†ä¾èµ–æ•°ç»„ä¸­çš„æ¨¡å—æ ‡è¯†ç¬¦ï¼ˆå­—ç¬¦ä¸²ï¼‰å˜ä¸ºå®é™…å¯¹åº”çš„æ¨¡å—å®ä¾‹å¼•ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    modules[name] = implementation.<span class="title function_">apply</span>(implementation, deps);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> modules[name];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">define</span>: define,</span><br><span class="line">    <span class="attr">get</span>: get,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç çš„æ ¸å¿ƒæ˜¯<code>modules[name] = implementation.apply(implementation, deps)</code>ä¸ºæ¨¡å—çš„å®šä¹‰å¼•å…¥äº†åŒ…è£…å‡½æ•°ï¼ˆå¯ä»¥ä¼ å…¥ä»»ä½•ä¾èµ–ï¼‰ï¼Œå¹¶ä¸”å°†è¿”å›å€¼ä¹Ÿå°±æ˜¯æ¨¡å—çš„å…¬å…± APIï¼Œå­˜å‚¨åœ¨ä¸€ä¸ªæ ¹æ®åå­—æ¥ç®¡ç†çš„æ¨¡å—åˆ—è¡¨å¯¹è±¡ä¸­ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒä¸‹é¢è¿™æ ·å®šä¹‰æ¨¡å—ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">MyModules</span>.<span class="title function_">define</span>(<span class="string">&#x27;bar&#x27;</span>, [], <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params">who</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`let me introduce: <span class="subst">$&#123;who&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">hello</span>: hello,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyModules</span>.<span class="title function_">define</span>(<span class="string">&#x27;foo&#x27;</span>, [<span class="string">&#x27;bar&#x27;</span>], <span class="keyword">function</span> (<span class="params">bar</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> hungry = <span class="string">&#x27;hippo&#x27;</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">awesome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(bar.<span class="title function_">hello</span>(hungry).<span class="title function_">toUpperCase</span>());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">awesome</span>: awesome,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>define()</code>å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯æ¨¡å—å®šä¹‰å‡½æ•°ï¼Œæ­£å¦‚å‰é¢æ‰€è¯´çš„é‚£æ ·ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°†ä¼šè¿”å›ä¸€ä¸ªæ¨¡å—å®ä¾‹å¯¹è±¡ã€‚æˆ‘ä»¬å®ç°çš„è¿™ä¸ªæ¨¡å—ç®¡ç†å™¨ç”šè‡³å…è®¸æ¨¡å—å®šä¹‰å‡½æ•°æ¥å—å…¶ä»–æ¨¡å—çš„å®ä¾‹ä½œä¸ºå‚æ•°ï¼Œè¿™æ ·åœ¨æ¨¡å—å®šä¹‰å‡½æ•°çš„å†…éƒ¨å°±å¯ä»¥ç”¨å…¶ä»–æ¨¡å—å®ä¾‹çš„ API äº†ã€‚</p>
<h3 id="4-4-ES6-ä¸­çš„æ¨¡å—æœºåˆ¶"><a href="#4-4-ES6-ä¸­çš„æ¨¡å—æœºåˆ¶" class="headerlink" title="4.4 ES6 ä¸­çš„æ¨¡å—æœºåˆ¶"></a>4.4 ES6 ä¸­çš„æ¨¡å—æœºåˆ¶</h3><p>ES6 ä¸­ä¸ºæ¨¡å—å¢åŠ äº†ä¸€çº§è¯­æ³•æ”¯æŒï¼Œåœ¨é€šè¿‡æ¨¡å—ç³»ç»Ÿè¿›è¡ŒåŠ è½½æ—¶ï¼Œ<strong>ES6 ä¼šå°†æ–‡ä»¶å½“ä½œç‹¬ç«‹çš„æ¨¡å—æ¥å¤„ç†</strong>ã€‚ES6 çš„æ¨¡å—æ²¡æœ‰â€œè¡Œå†…â€æ ¼å¼ï¼Œå¿…é¡»è¢«å®šä¹‰åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼ˆä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—ï¼‰ã€‚æµè§ˆå™¨æˆ–è€…å¼•æ“æœ‰ä¸€ä¸ªé»˜è®¤çš„â€œæ¨¡å—åŠ è½½å™¨â€ï¼Œå¯ä»¥åœ¨å€’å…¥æ¨¡å—çš„åŒæ—¶<strong>åŒæ­¥</strong>åœ°åŠ è½½æ¨¡å—æ–‡ä»¶ã€‚</p>
<p>åŸºäºå‡½æ•°çš„æ¨¡å—ï¼ˆä¾‹å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„é‚£äº›ä¾‹å­ï¼‰å¹¶ä¸æ˜¯ä¸€ä¸ªèƒ½è¢«<strong>é™æ€è¯†åˆ«</strong>çš„æ¨¡å¼ï¼ˆç¼–è¯‘å™¨æ— æ³•è¯†åˆ«ï¼‰ï¼Œå®ƒä»¬çš„ API è¯­ä¹‰åªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šè¢«è€ƒè™‘è¿›æ¥ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ä¸€ä¸ªæ¨¡å—æš´éœ²å‡ºæ¥çš„ APIã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ <strong>ES6 ä¸­çš„æ¨¡å— API æ˜¯é™æ€çš„</strong>ï¼ˆAPI ä¸ä¼šåœ¨è¿è¡Œæ—¶æ”¹å˜ï¼‰ã€‚ç”±äºç¼–è¾‘å™¨çŸ¥é“è¿™ä¸€ç‚¹ï¼Œå› æ­¤å¯ä»¥åœ¨ç¼–è¯‘å™¨æ£€æŸ¥æœŸé—´å¯¹å¯¼å…¥æ¨¡å—çš„ API æˆå‘˜å¼•ç”¨æ˜¯å¦å­˜åœ¨è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœå¹¶ä¸å­˜åœ¨ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æ—¶å°±æŠ›å‡ºâ€œæ—©æœŸâ€é”™è¯¯ï¼Œè€Œä¸ä¼šç­‰åˆ°è¿è¡Œæ—¶å†åŠ¨æ€è§£æå¹¶æŠ¥é”™ã€‚</p>
<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><p>é—­åŒ…çœ‹èµ·æ¥ç¥ç§˜ä¸”éš¾ä»¥ç†è§£ï¼Œä½†å®é™…ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªéå¸¸æ™®é€šä¸”æ˜æ˜¾çš„äº‹å®ï¼šé‚£å°±æ˜¯æˆ‘ä»¬åœ¨è¯æ³•ä½œç”¨åŸŸçš„ç¯å¢ƒä¸‹å†™ä»£ç ï¼Œè€Œå‡½æ•°ä¹Ÿæ˜¯å€¼ï¼Œå¯ä»¥è¢«éšæ„çš„ä¼ é€’æ¥ä¼ é€’å»ã€‚</p>
<p><strong>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶ä¸”è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶ä¾¿äº§ç”Ÿäº†é—­åŒ…</strong>ã€‚</p>
<p>é—­åŒ…æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥å®ç°æ¨¡å—ç­‰æ¨¡å¼ï¼Œæ¨¡å—ä¸»è¦æœ‰ä¸¤ä¸ªç‰¹å¾ï¼š</p>
<ol>
<li>ä¸ºäº†åˆ›å»ºä¸€ä¸ªå†…éƒ¨ä½œç”¨åŸŸè€Œè°ƒç”¨äº†ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼›</li>
<li>åŒ…è£…å‡½æ•°çš„è¿”å›å€¼å¿…é¡»è‡³å°‘åŒ…å«ä¸€ä¸ªå¯¹å†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ¶µç›–æ•´ä¸ªåŒ…è£…å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…</strong>ã€‚</li>
</ol>

                    
                </div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/JavaScript/">JavaScript</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Closure/">Closure</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2024/04/26/advance-javascript/series-03-this/"
                                   title="æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆäºŒ)ï¼šThis å…³é”®å­—"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆäºŒ)ï¼šThis å…³é”®å­—</span>
                                        <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2024/03/01/advance-javascript/series-01-scope/"
                                   title="æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆä¸€)ï¼šä½œç”¨åŸŸ"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">æ·±å…¥å­¦ä¹  JavaScript ç³»åˆ—ï¼ˆä¸€)ï¼šä½œç”¨åŸŸ</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    






                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%BB%8E%E9%97%AE%E9%A2%98%E5%92%8C%E7%96%91%E6%83%91%E5%BC%80%E5%A7%8B"><span class="nav-text">1. ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E9%97%AD%E5%8C%85%E6%97%A0%E5%A4%84%E4%B8%8D%E5%9C%A8"><span class="nav-text">2. é—­åŒ…æ— å¤„ä¸åœ¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%BE%AA%E7%8E%AF%E5%92%8C%E9%97%AD%E5%8C%85"><span class="nav-text">3. å¾ªç¯å’Œé—­åŒ…</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%80%EF%BC%9AIIFE"><span class="nav-text">3.1 è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%BA%8C%EF%BC%9A%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">3.2 è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%A8%A1%E5%9D%97"><span class="nav-text">4. æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">4.1 å•ä¾‹æ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%8A%A8%E6%80%81%E5%91%BD%E5%90%8D%E6%A8%A1%E5%9D%97%E5%85%AC%E5%85%B1-API"><span class="nav-text">4.2 åŠ¨æ€å‘½åæ¨¡å—å…¬å…± API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%A8%A1%E5%9D%97%E6%9C%BA%E5%88%B6"><span class="nav-text">4.3 ç°ä»£çš„æ¨¡å—æœºåˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-ES6-%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E6%9C%BA%E5%88%B6"><span class="nav-text">4.4 ES6 ä¸­çš„æ¨¡å—æœºåˆ¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%80%BB%E7%BB%93"><span class="nav-text">5. æ€»ç»“</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
    &copy;&nbsp;<span>2021</span>&nbsp;-&nbsp;2024
    
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">å°ä¸¾</a>
        
    </div>

    <div class="theme-info info-item">
        ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    

    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%BB%8E%E9%97%AE%E9%A2%98%E5%92%8C%E7%96%91%E6%83%91%E5%BC%80%E5%A7%8B"><span class="nav-text">1. ä»é—®é¢˜å’Œç–‘æƒ‘å¼€å§‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E9%97%AD%E5%8C%85%E6%97%A0%E5%A4%84%E4%B8%8D%E5%9C%A8"><span class="nav-text">2. é—­åŒ…æ— å¤„ä¸åœ¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%BE%AA%E7%8E%AF%E5%92%8C%E9%97%AD%E5%8C%85"><span class="nav-text">3. å¾ªç¯å’Œé—­åŒ…</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%80%EF%BC%9AIIFE"><span class="nav-text">3.1 è§£å†³æ–¹æ¡ˆä¸€ï¼šIIFE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%BA%8C%EF%BC%9A%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">3.2 è§£å†³æ–¹æ¡ˆäºŒï¼šå—ä½œç”¨åŸŸ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%A8%A1%E5%9D%97"><span class="nav-text">4. æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">4.1 å•ä¾‹æ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%8A%A8%E6%80%81%E5%91%BD%E5%90%8D%E6%A8%A1%E5%9D%97%E5%85%AC%E5%85%B1-API"><span class="nav-text">4.2 åŠ¨æ€å‘½åæ¨¡å—å…¬å…± API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%A8%A1%E5%9D%97%E6%9C%BA%E5%88%B6"><span class="nav-text">4.3 ç°ä»£çš„æ¨¡å—æœºåˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-ES6-%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E6%9C%BA%E5%88%B6"><span class="nav-text">4.4 ES6 ä¸­çš„æ¨¡å—æœºåˆ¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%80%BB%E7%BB%93"><span class="nav-text">5. æ€»ç»“</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/header-shrink.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/back2top.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/toggle-theme.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/code-block.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/main.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/local-search.min.js"></script>


<!-- lazyload -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/lazyload.min.js"></script>


<div class="pjax">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/post-helper.min.js"></script>

        <!-- toc -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/toc.min.js"></script>
        

        <!-- copyright-info -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/copyright-info.min.js"></script>
        

        <!-- share -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/share.min.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart()
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd()
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'))
            KEEP.initExecute()
        });
    });
</script>




    
        
    

</body>
</html>
